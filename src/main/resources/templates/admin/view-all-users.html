<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>Timesheet | View Timesheets</title>
<link rel="stylesheet" type="text/css" href="myStyles.css" />
<link rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css" />
<link rel="stylesheet"
   href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" />
</head>

<!-- HEADER -->

<body>
   <section class="hero is-dark">
      <div class="hero-head">
         <nav class="navbar">
            <div class="container">
               <div class="navbar-brand">
                  <span class="navbar-burger burger" data-target="navbarMenuHeroB">
                     <span></span> <span></span> <span></span>
                  </span>
               </div>
               <div id="navbarMenuHeroB" class="navbar-menu">
                  <div class="navbar-end">
                     <a class="navbar-item is-active" href="/dashboard"> <span
                        class="icon"><i class="fas fa-home"></i></span> <span>Dashboard</span>
                     </a> <a class="navbar-item" href="/account"> <span class="icon"><i
                           class="fas fa-user-circle"></i></span> <span>Account</span>
                     </a> <a class="navbar-item" href="/help"> <span class="icon"><i
                           class="fas fa-question-circle"></i></span> <span>Help</span>
                     </a> <span class="navbar-item"> <a
                        class="button is-info is-inverted" href="#" th:href="@{/logout}"> <span
                           class="icon"> <i class="fas fa-sign-out-alt"></i>
                        </span> <span>Sign out</span>
                     </a>
                     </span>
                  </div>
               </div>
            </div>
         </nav>
      </div>
      <div class="hero-body">
         <div class="container has-text-centered">
            <p class="title">Timesheet App Admin</p>
            <p class="subtitle">Create. Edit. Submit.</p>
         </div>
      </div>
   </section>

   <!-- END OF HEADER -->

   <!-- BODY -->
   <section class="section">
      <div class="container">
         <h1 class="title">User Management</h1>
         <h2 class="subtitle">Manage all User accounts.</h2>
      </div>
   </section>
   <section class="section">
      <div class="container" th:if="${#lists.isEmpty(users)}">
         <span><strong> No Users found in Database</strong></span>
      </div>
      <div class="container" th:if="${not #lists.isEmpty(users)}">
      
         <!-- Display Users -->
         <table class="table is-striped is-hoverable is-fullwidth">
            <thead>
               <tr>
                  <th>User Id</th>
                  <th>Username</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Role</th>
                  <th>Organization</th>
                  <th><i class="fas fa-lg fa-info-circle"></i></th>
                  <th><i class="fas fa-lg fa-exclamation-triangle"></i></th>
                  <th><i class="fas fa-lg fa-ban"></i></th>         
               </tr>
            </thead>
            <tbody>
               <tr th:each="user: ${users}">
                  <td th:text="${user.userId}">
                  <td th:text="${user.username}">
                  <td th:text="${user.firstName}">
                  <td th:text="${user.lastName}">
                  <td th:text="${user.role.role}">
                  <td th:text="${user.organization}">
                  <td>
                     <a class="button is-primary" th:href="@{/admin/edit-user/} + ${user.userId}">
                        <span> Edit </span>
                     </a>
                  </td>
                  <td>
                     <a class="button is-info" th:href="@{/admin/reset-password/} + ${user.userId}">
                        <span>Reset password</span>
                     </a>
                  </td>
                  <td>
                     <a class="button is-danger is-outlined" th:href="@{/admin/delete-user/} + ${user.userId}">
                        <span> Delete </span>
                        <span class="icon is-small">
                           <i class="fas fa-times"></i>
                        </span>
                     </a>
                  </td>
               </tr>
            </tbody>

         </table>
      </div>
   </section>

   <!-- END OF BODY -->

   <!-- FOOTER -->
   
    <section class="section">
        <footer class="myfooter">
            <div class="content has-text-centered">
                <p>
                    Built with <i class="fas fa-heart"></i> by 
                    <strong> <a href="https://github.com/moa38">moa38</a> </strong>.
                </p>
            </div>
        </footer>
    </section>

</body>

</html>